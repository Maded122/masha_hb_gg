<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Сюрприз</title>
<style>
html,body{margin:0;height:100%;background:#000;font-family:sans-serif}
video.bg{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}
.hidden{display:none}
.content{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;height:100%}
.locked{color:#fff;font-size:20px;background:rgba(0,0,0,.4);padding:10px 16px;border-radius:12px;text-align:center}
.btn{background:linear-gradient(135deg,rgba(245,222,179,.9),rgba(210,180,140,.9));
     color:#fff;padding:14px 28px;border:none;border-radius:14px;font-size:18px;
     cursor:pointer;opacity:.9;transition:.2s}
.btn:hover{opacity:1;box-shadow:0 0 12px rgba(245,222,179,.9)}
.btn:active{transform:scale(.95)}
</style>
</head>
<body>

<!-- Видео ДО -->
<video id="videoBefore" class="bg" autoplay muted loop playsinline>
  <source src="data:video/mp4;base64,AAA..." type="video/mp4">
</video>

<!-- Видео ПОСЛЕ -->
<video id="videoAfter" class="bg hidden" autoplay muted loop playsinline>
  <source src="data:video/mp4;base64,BBB..." type="video/mp4">
</video>

<div class="content" id="content">
  <div id="locked" class="locked">Ещё не время ⏳</div>
</div>

<script>
// ======== НАСТРОЙКИ ========
// Вставь дату и время разблокировки (месяц с нуля: январь=0)
const unlockDate = new Date(2025, 9, 1, 20, 33, 0); // пример: 24 марта 2026, 00:00

// Base64 аудио
const AUDIO_BASE64 = "data:audio/mp3;base64,SUQz...";

const lockedEl = document.getElementById("locked");
const content = document.getElementById("content");
const vBefore = document.getElementById("videoBefore");
const vAfter  = document.getElementById("videoAfter");

function pad(n){ return n<10?"0"+n:n; }

if(isNaN(unlockDate.getTime())){
    lockedEl.textContent = "Ошибка даты!";
} else {
    function updateCountdown(){
        const now = new Date();
        let diff = Math.floor((unlockDate - now)/1000);
        if(diff <= 0){ unlock(); return; }

        const d = Math.floor(diff/86400),
              h = Math.floor((diff%86400)/3600),
              m = Math.floor((diff%3600)/60),
              s = diff%60;

        lockedEl.textContent = d>0 ?
            `Ещё не время — ${d}д ${pad(h)}:${pad(m)}:${pad(s)} ⏳` :
            `Ещё не время — ${pad(h)}:${pad(m)}:${pad(s)} ⏳`;

        if(vBefore.paused) vBefore.load();
    }

    function unlock(){
        clearInterval(timer);
        vBefore.pause();
        vBefore.classList.add("hidden");

        vAfter.classList.remove("hidden");
        try{ vAfter.load(); vAfter.play(); } catch(e){}

        content.innerHTML = `<button id="playBtn" class="btn">▶️ Прослушать</button>`;
        document.getElementById("playBtn").onclick = ()=>{
            const audio = new Audio(AUDIO_BASE64);
            audio.play().catch(()=>{console.warn('Ошибка воспроизведения аудио')});
        };
    }

    updateCountdown();
    const timer = setInterval(updateCountdown,1000);
}
</script>

</body>
</html>

